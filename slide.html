<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slide Viewer</title>
    <link rel="stylesheet" href="common.css">
    <link rel="stylesheet" href="slide.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.3.0/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css">
    <script src="https://cdn.jsdelivr.net/npm/core-js-bundle@3.32.0/minified.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                processEnvironments: true
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
            },
            startup: {
                ready: () => {
                    console.log('MathJax is ready!');
                    MathJax.startup.defaultReady();
                }
            }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.9.1/dist/mermaid.min.js"
        onerror="console.warn('Failed to load Mermaid from CDN')"
        onload="console.log('Mermaid loaded from CDN')"></script>
</head>

<body>
    <div class="slide-container">
        <div class="slide-content" id="slide-content">
            <div class="loading">Loading markdown file...</div>
        </div>
    </div>

    <div class="slide-navigation">
        <button class="nav-btn" id="prev-btn" onclick="previousSlide()" title="Previous Slide">&lt;</button>
        <div class="slide-counter">
            <span id="current-slide">1</span> / <span id="total-slides">1</span>
        </div>
        <button class="nav-btn" id="next-btn" onclick="nextSlide()" title="Next Slide">&gt;</button>
    </div>

    <div class="slide-controls">
        <button class="menu-toggle-btn" onclick="toggleMenu()" title="Toggle Menu">☰</button>
        <button class="control-btn" onclick="toggleOverview()" title="Overview">📋</button>
        <button class="control-btn" onclick="toggleSearch()" title="Search">🔍</button>
        <button class="control-btn" onclick="toggleFullscreen()" title="Fullscreen">⛶</button>
        <button class="control-btn" onclick="resetSlides()" title="Go to First">🏠</button>
        <button class="control-btn" onclick="switchToPageView()" title="Switch to Page View">📄</button>
        <div class="themes">
            <div class="theme-btn theme-light active" data-theme="light" onclick="changeTheme('light')"></div>
            <div class="theme-btn theme-dark" data-theme="dark" onclick="changeTheme('dark')"></div>
            <div class="theme-btn theme-blue" data-theme="blue" onclick="changeTheme('blue')"></div>
            <div class="theme-btn theme-green" data-theme="green" onclick="changeTheme('green')"></div>
            <div class="theme-btn theme-purple" data-theme="purple" onclick="changeTheme('purple')"></div>
        </div>
    </div>

    <div class="slide-overview" id="slide-overview">
        <div class="overview-header">
            <h3>Slide Overview</h3>
            <button class="close-btn" onclick="toggleOverview()">×</button>
        </div>
        <div class="overview-content" id="overview-content"></div>
    </div>

    <div class="slide-search" id="slide-search">
        <div class="search-header">
            <h3>Slide Search</h3>
            <button class="close-btn" onclick="toggleSearch()">×</button>
        </div>
        <div class="search-controls">
            <div class="search-input-container">
                <input type="text" id="search-input" placeholder="Enter search term..." oninput="performSearch()">
                <button class="search-clear-btn" onclick="clearSearch()" title="Clear search">×</button>
            </div>
            <div class="search-options">
                <label><input type="checkbox" id="case-sensitive" onchange="performSearch()"> Case sensitive</label>
                <label><input type="checkbox" id="regex-search" onchange="performSearch()"> Regular expression</label>
            </div>
        </div>
        <div class="search-results" id="search-results"></div>
    </div>

    <div class="slide-progress">
        <div class="progress-bar" id="progress-bar"></div>
    </div>

    <script src="common.js"></script>
    <script src="slide.js"></script>
</body>

</html>